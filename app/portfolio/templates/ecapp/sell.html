{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="alert alert-danger">
    <h3>商品を出品</h3>
</div>

<div class="container p-3 mb-5">
    <form action="{% url 'ecapp:sell' %}" method="post" enctype="multipart/form-data">{% csrf_token %}
        <label class="mt-3">商品名</label>
        {{ sell_form.name }}
        <label class="mt-3">商品説明</label>
        {{ sell_form.description }}
        <label class="mt-3">値段</label>
        {{ sell_form.price }}
        <label class="mt-3">個数</label>
        {{ sell_form.amount }}
        <label class="mt-3">商品画像</label>
        <div id="img-form" class="input-group">
            <input type="text" :value="[[ this.fileData ]]" class="form-control float-right" readonly="">
            <label class="input-group-btn">
                <span class="btn btn-primary">
                    <i class="far fa-file"></i><input type="file" style="display:none" name="{{ sell_form.image.name }}"
                        @change="handleFile">
                </span>
            </label>
        </div>
        <div class="mt-3 text-center">
            <button class="btn btn-primary" type="submit">出品する</button>
        </div>
    </form>
</div>

{% endblock %}

{% block script %}
<script type="text/javascript" src="https://kit.fontawesome.com/c25d00f6dc.js" crossorigin="anonymous"></script>
<script src="https://unpkg.com/vue"></script>
<script type="text/javascript" src="{% static 'js/img_form.js' %}"></script>
{% endblock %}