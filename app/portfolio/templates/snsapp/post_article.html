{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="alert alert-info">
    <h3>記事を投稿</h3>
</div>

<div class="container">
    <form action="{% url 'snsapp:post_article' %}" method="post">{% csrf_token %}
        <label class="mt-3">記事内容</label>
        {{ article_form.content }}
        <label class="mt-3">商品</label><span class="text-muted small ml-2">※自身が購入した商品のみ選択可能です</span>
        {{ article_form.product }}
        <label class="mt-3">商品の評価</label>
        <div id="stars" class="">
            <input type="hidden" name="evaluation" :value="[[ eval ]]" class="form-control">
            <ul style="list-style: none;">
                <li class="d-inline-block border">
                    <star-icon :eval="eval" @change-eval="eval=$event" data-id="1"></star-icon>
                    <star-icon :eval="eval" @change-eval="eval=$event" data-id="2"></star-icon>
                    <star-icon :eval="eval" @change-eval="eval=$event" data-id="3"></star-icon>
                    <star-icon :eval="eval" @change-eval="eval=$event" data-id="4"></star-icon>
                    <star-icon :eval="eval" @change-eval="eval=$event" data-id="5"></star-icon>
                </li>
            </ul>
        </div>
        <div class="form-group text-center">
            <button class="btn btn-primary mt-3" type="submit">投稿</button>
        </div>
    </form>
</div>

{% endblock %}

{% block script %}
<script type="text/javascript" src="https://kit.fontawesome.com/c25d00f6dc.js" crossorigin="anonymous"></script>
<script src="https://unpkg.com/vue"></script>
<script type="text/javascript" src="{% static 'js/post_eval.js' %}"></script>
{% endblock %}