{% extends 'base.html' %}
{% load static %}

{% block content %}

<h3 class="text-secondary">アカウント設定</h3>

<div class="container mb-5">
    <form action="{% url 'users:edit_profile' %}" method="post" enctype="multipart/form-data">{% csrf_token %}
        <div class=" form-group"></div>
        <label class="mt-3">ユーザー名</label>
        {{ profile_form.name }}
        <label class="mt-3">Eメールアドレス</label>
        {{ profile_form.email }}
        <label class="mt-3">郵便番号</label>
        {{ profile_form.zip_code }}
        <input class="btn btn-primary mt-1" type="submit" name="search_address" value="住所を検索">
        <br>
        <label class="mt-3">住所</label>
        {{ profile_form.address }}
        <label class="mt-3">メッセージ</label>
        {{ profile_form.message }}
        <label class="mt-3">アイコン</label>
        <div id="img-form" class="input-group">
            <input type="text" :value="[[ this.fileData ]]" class="form-control float-right" readonly="">
            <label class="input-group-btn">
                <span class="btn btn-primary">
                    <i class="far fa-file"></i><input type="file" style="display:none"
                        name="{{ profile_form.icon.name }}" @change="handleFile">
                </span>
            </label>
        </div>
        <div class="mt-3 text-center">
            <button class="btn btn-primary" type="submit">更新</button>
        </div>
    </form>
</div>

{% endblock %}

{% block script %}
<script type="text/javascript" src="https://kit.fontawesome.com/c25d00f6dc.js" crossorigin="anonymous"></script>
<script src="https://unpkg.com/vue"></script>
<script type="text/javascript" src="{% static 'js/img_form.js' %}"></script>
{% endblock %}